package ru.r2cloud.jradio.bsusat1;

import org.junit.Test;

import ru.r2cloud.jradio.AssertJson;
import ru.r2cloud.jradio.fec.ViterbiTest;

public class Bsusat1BeaconTest {
	
	@Test
	public void testRfMessage() throws Exception {
		byte[] data = ViterbiTest.hexStringToByteArray("8AAA62B0B040608AAA6260A6406103F0015F0010050A014003DE0DFE010100010A0003004803204D6179204C6561646572733A204A4136504C204A4135424C5A204A4131474445202F2046364F425420555835554C20535633434958202F20495452202F204F5A37534154206100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
		Bsusat1Beacon result = new Bsusat1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Bsusat1BeaconRfMessage.json", result);
	}

	@Test
	public void testEpsFull() throws Exception {
		byte[] data = ViterbiTest.hexStringToByteArray("8AAA62B0B040608AAA6260A6406103F0013700870517014003C50DFE010100010A00030040FEB6AC90022A70C0BB7B8872DFF5A6CEC857008844C1CFC10204C0021800054C4002680001484000D88107D48AAC000800000000000000000000001700040500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
		Bsusat1Beacon result = new Bsusat1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Bsusat1BeaconEpsFull.json", result);
	}
	
	@Test
	public void testRfResponse() throws Exception {
		byte[] data = ViterbiTest.hexStringToByteArray("8AAA62B0B040608AAA6260A6406103F0016100C2050C014003B80DFE010100010A0003000301023800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
		Bsusat1Beacon result = new Bsusat1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Bsusat1BeaconRfResponse.json", result);
	}

}
