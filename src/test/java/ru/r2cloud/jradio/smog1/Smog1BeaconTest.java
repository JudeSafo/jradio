package ru.r2cloud.jradio.smog1;

import org.junit.Test;

import ru.r2cloud.jradio.AssertJson;

public class Smog1BeaconTest {

	@Test
	public void testTelemetry1() throws Exception {
		byte[] data = new byte[] { 1, -101, -127, -26, 97, -120, -127, -26, 97, 42, 1, -76, 3, 6, 0, 60, 3, 7, 0, -44, 11, 48, -117, -127, -26, 97, -116, 1, -66, 8, 83, 0, 92, 4, 20, 0, -4, 14, 80, -118, -127, -26, 97, -47, 0, 95, 4, 21, 0, -91, 4, 7, 0, 28, 14, 104, -119, -127, -26, 97, -60, 1,
				-46, 8, 121, 0, 4, 5, 34, 0, -74, 14, -120, -116, -127, -26, 97, 52, -11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -80, -121, -127, -26, 97, 44, 1, -60, 7, 77, 0, 122, 4, 20, 0, -28, 14, -48, 64, 6, 94, 65, 6, 94, 66, 6, 94, 0, 0, -21, 33, 109, -58, -74, 21, -54, -23, 123, 96 };
		Smog1Beacon result = new Smog1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Smog1BeaconTelemetry1.json", result);
	}

	@Test
	public void testTelemetry2() throws Exception {
		byte[] data = new byte[] { 2, -101, -127, -26, 97, -101, -127, -26, 97, -20, -15, 13, 43, 0, -117, -127, -26, 97, -20, 67, 14, 42, 0, -101, -127, -26, 97, 0, 0, 1, 0, 4, 7, 127, 0, -125, 0, -128, 13, 0, -117, -127, -26, 97, 0, 0, 1, 0, -3, 6, 25, 0, 25, 0, -121, 13, 0, -101, -127, -26, 97,
				40, 14, 0, 0, 79, 0, 12, -117, -127, -26, 97, 67, 14, 38, 0, 0, 0, 12, -101, -127, -26, 97, 37, 14, -89, 12, 0, 0, 7, 0, 0, -117, -127, -26, 97, 81, 14, -16, 12, 0, 0, 7, 0, 0, 61, 6, 95, 62, 6, 95, 63, 6, 95, -22, 12, -40, 12, -103, 22, 8, -36, 8, 83, -52, 92, -22, -15 };
		Smog1Beacon result = new Smog1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Smog1BeaconTelemetry2.json", result);
	}

	@Test
	public void testTelemetry3() throws Exception {
		byte[] data = new byte[] { 3, -50, -127, -26, 97, -61, 12, 84, 1, 84, 1, 69, 1, 69, 1, 59, 1, 126, 119, 0, 33, 0, 16, -118, 2, -112, 10, 61, -3, 19, 0, -84, 20, -75, 7, -8, -1, 8, 0, -9, -1, 74, 1, -91, 2, -46, -11, 70, 3, -3, -1, 19, 0, 1, 0, 8, 0, 5, 0, -31, -1, 94, 1, -1, -50, -127, -26,
				97, 32, 98, -37, -47, 12, 125, 1, 62, 1, 10, -127, -26, 97, -37, 0, 104, 19, 30, -51, 112, 30, -54, -98, 5, 0, 14, -127, -26, 97, -34, 0, 101, 19, 32, 50, -61, 32, 44, -24, 5, 0, 70, 6, 100, 71, 6, 100, 72, 6, 98, 30, 81, -3, 119, -32, 7, 124, -77, -126, -12 };
		Smog1Beacon result = new Smog1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Smog1BeaconTelemetry3.json", result);
	}

	@Test
	public void testBeaconMessage() throws Exception {
		byte[] data = new byte[] { 4, -49, -127, -26, 97, 72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 44, 32, 116, 104, 105, 115, 32, 105, 115, 32, 83, 77, 79, 71, 49, 32, 72, 65, 53, 66, 77, 69, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -67, -127, -26, 97, 0, 0, 43, 0, 0, 0, 0, 3, 56, 52, 57, 50, 52, 55, 49, 97, 67, 6, 99, 68, 6, 99, 69, 6, 100, 79, 15, 117, -120, -97, 63, 5, 95, 94, -83 };
		Smog1Beacon result = new Smog1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Smog1BeaconMessage.json", result);
	}

	@Test
	public void testSpectrumResult() throws Exception {
		byte[] data = new byte[] { 5, 110, -125, -26, 97, 0, 62, 29, 49, -64, 93, 0, 0, 6, 0, 26, -32, 0, 0, 0, -8, -3, 26, 22, 19, 19, 23, 29, 26, 22, 22, 32, 25, 19, 26, 22, 29, 19, 19, 22, 22, 29, 19, 26, 20, 31, 22, 25, 26, 23, 25, 28, 25, 19, 22, 22, 19, 22, 29, 31, 19, 28, 22, 28, 22, 28, 28,
				31, 23, 26, 22, 26, 22, 28, 23, 25, 28, 23, 25, 31, 25, 28, 16, 29, 22, 19, 26, 22, 25, 25, 28, 28, 28, 22, 28, 29, 23, 28, 29, 19, 22, 25, 28, 28, 19, 22, 22, 29, 25, 29, 23, 26, 22, 16, 29, 25, 32, 25, 19, 22, 25, 28, 26, 31, 22, 22, 22, 22, 20, 31, 25, 26, 26, 25, 16, 16, 22, 23,
				25, 19, 19, 26, 23, 26, 26, 25, 26, 26, 31, 22, 19, 16, 26, 25, 25, 19, 28, 22, 26, 26, 25, 23, 22, 25, 23, 23, 27, 22, 16, 31, 29, 22, 20, 22, 22, 22, 16, 22, 28, 16, 25, 19, 23, 31, 29, 29, 22, 22, 36, 19, 26, 22, 25, 26, 19, 19, 25, 19, 26, 26, 28, 22, 22, 29, 25, 29, 28, 23, 28,
				29, 29, 22, 29, 22, 26, 20, 25, 25, 29, 22, 23, 19, 31, 20, 16, 26, 22, 29, 28, 23, 28, 28, 25, 29, 22, 16, 26, 29, 26, 16, 22, 25, 19, 25, 22, 16, 48, -108, 33, 114, 23, -108, 29, 59, -63, 92 };
		Smog1Beacon result = new Smog1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Smog1SpectrumResult.json", result);
	}

	@Test
	public void testFileFragment() throws Exception {
		byte[] data = new byte[] { 7, -108, -127, -26, 97, 1, 0, 3, 0, 22, 0, 0, 0, 1, -59, -58, 42, -85, 96, 109, 101, 97, 115, 95, 50, 52, 0, 0, 0, 30, 99, 75, 30, 96, 6, 104, 19, -42, 0, 59, 0, 31, -60, 100, 31, -69, 5, 102, 19, 36, 1, 61, 0, 30, 98, 84, 30, 96, -56, 103, 19, 36, 1, 60, 0, 31,
				-62, -108, 31, -71, -11, 100, 19, -83, 0, 62, 0, 30, 99, 35, 30, 94, 110, 105, 19, -81, 0, 61, 0, 31, -60, 33, 31, -70, 19, 102, 19, -5, -1, 63, 0, 30, 103, 58, 30, 93, -53, 108, 19, -5, -1, 62, 0, 31, -55, 72, 31, -67, 68, 105, 19, -86, -1, 64, 0, 30, 106, 118, 30, 95, 82, 109, 19,
				-86, -1, 63, 0, 31, -51, -127, 31, -64, -109, 106, 19, 48, 0, 65, 0, 30, 102, 84, 30, 94, -35, 107, 19, 53, 0, 64, 0, 31, -56, 111, 31, -67, 102, 104, 19, -56, 0, 66, 0, 30, 99, -75, 30, 95, -25, 104, 19, -59, 0, 65, 0, 31, -60, -68, 31, -69, 64, 102, 19, 33, 1, 67, 0, 30, 98, 102,
				30, 96, -97, 103, 19, 32, 1, 66, 0, 31, -62, -62, 31, -71, -12, 100, 19, -28, 0, 68, 0, 30, 98, 113, 30, 95, 108, 103, 19, -26, 0, 67, 0, 31, -61, 41, 31, -71, -57, 101, 19, 43, 0, 69, 0, 30, -68, 0, 121, 41, -75, -35, 57, -105, -58, 40 };
		Smog1Beacon result = new Smog1Beacon();
		result.readBeacon(data);
		AssertJson.assertObjectsEqual("Smog1FileFragment.json", result);
	}
}
